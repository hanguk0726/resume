---
// types.d.ts 혹은 컴포넌트 상단에 타입 선언
interface Entry {
  company: Record<string, string>;
  location: Record<string, string>;
  period: string;
  position: Record<string, string>;
}

interface ExperienceGroup {
  category: Record<string, string>;
  entries: Entry[];
}

const { experiences, lang } = Astro.props as { experiences: ExperienceGroup[]; lang: string };

console.log('Rendering Experience component with lang:', experiences, lang);
---

<section class="space-y-8">
  {experiences.map((group) => (
    <div>
      <h2 class="text-xl font-bold text-gray-800 mb-2">{group.category[lang]}</h2>
      <ul class="space-y-2">
        {group.entries.map((entry) => (
          <li class="text-sm border-l-4 border-blue-500 pl-3">
            <p class="font-semibold">{entry.company[lang]}</p>
            <p class="text-gray-600">{entry.location[lang]} · {entry.period}</p>
            <p class="text-gray-700">{entry.position[lang]}</p>
          </li>
        ))}
      </ul>
    </div>
  ))}
</section>
